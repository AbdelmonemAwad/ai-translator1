# دليل المستخدم الشامل - AI Translator (الترجمان الآلي)
## الإصدار 2.1.0

---

## 📖 فهرس المحتويات
1. [مقدمة ونظرة عامة](#مقدمة-ونظرة-عامة)
2. [متطلبات النظام](#متطلبات-النظام)
3. [التثبيت والإعداد](#التثبيت-والإعداد)
4. [دليل الاستخدام التفصيلي](#دليل-الاستخدام-التفصيلي)
5. [إدارة إعدادات الخادم](#إدارة-إعدادات-الخادم)
6. [تكوين خوادم الوسائط](#تكوين-خوادم-الوسائط)
7. [إدارة الذكاء الاصطناعي](#إدارة-الذكاء-الاصطناعي)
8. [استكشاف الأخطاء وإصلاحها](#استكشاف-الأخطاء-وإصلاحها)
9. [الأسئلة الشائعة](#الأسئلة-الشائعة)

---

## 🌟 مقدمة ونظرة عامة

### ما هو AI Translator؟
AI Translator (الترجمان الآلي) هو نظام ترجمة فيديو متطور يستخدم تقنيات الذكاء الاصطناعي لترجمة المحتوى المرئي من الإنجليزية إلى العربية تلقائياً. النظام مصمم خصيصاً لمعالجة الأفلام والمسلسلات وتوليد ترجمات عربية عالية الجودة.

### المميزات الأساسية
- **ترجمة تلقائية كاملة**: من الصوت إلى النص إلى الترجمة
- **دعم خوادم الوسائط**: تكامل مع Plex وJellyfin وEmby وKodi وRadarr وSonarr
- **إدارة GPU متقدمة**: توزيع ذكي لموارد كروت الرسوميات
- **واجهة عربية كاملة**: دعم RTL وتصميم متجاوب
- **معالجة دفعية**: ترجمة عدة ملفات في نفس الوقت

---

## 💻 متطلبات النظام

### الحد الأدنى من المتطلبات
- **نظام التشغيل**: Ubuntu 20.04+ أو بيئة Replit
- **المعالج**: Intel i5 أو AMD Ryzen 5 (الجيل الرابع أو أحدث)
- **الذاكرة**: 16 جيجابايت RAM كحد أدنى
- **التخزين**: 100 جيجابايت مساحة فارغة
- **كارت الرسوميات**: NVIDIA GPU مع 8GB VRAM (اختياري ولكن مُوصى به)

### المتطلبات المُوصى بها
- **المعالج**: Intel i7 أو AMD Ryzen 7 (الجيل السادس أو أحدث)
- **الذاكرة**: 32 جيجابايت RAM أو أكثر
- **التخزين**: 500 جيجابايت SSD
- **كارت الرسوميات**: NVIDIA RTX 3070 أو أعلى مع 12GB+ VRAM
- **الشبكة**: اتصال إنترنت مستقر 100 Mbps+

### البرامج المطلوبة
- Python 3.11+
- PostgreSQL 13+
- FFmpeg مع دعم الترميزات المختلفة
- Ollama مع نموذج Llama 3
- OpenAI Whisper

---

## 🚀 التثبيت والإعداد

### التثبيت التلقائي (مُوصى به)
```bash
# تحميل وتشغيل سكريبت التثبيت التلقائي
wget https://github.com/AbdelmonemAwad/ai-translator/raw/main/install.sh
chmod +x install.sh
sudo ./install.sh
```

### التثبيت اليدوي
1. **إعداد قاعدة البيانات**:
```bash
sudo -u postgres createuser ai_translator
sudo -u postgres createdb ai_translator_db -O ai_translator
sudo -u postgres psql -c "ALTER USER ai_translator PASSWORD 'ai_translator_2025';"
```

2. **تثبيت التبعيات**:
```bash
pip install -r requirements.txt
```

3. **إعداد متغيرات البيئة**:
```bash
export DATABASE_URL="postgresql://ai_translator:ai_translator_2025@localhost:5432/ai_translator_db"
export SESSION_SECRET=$(openssl rand -base64 32)
```

4. **تشغيل النظام**:
```bash
python database_setup.py
gunicorn --bind 0.0.0.0:5000 main:app
```

---

## 📚 دليل الاستخدام التفصيلي

### 🔐 تسجيل الدخول الأولي
1. افتح المتصفح وانتقل إلى `http://localhost:5000`
2. أدخل بيانات الدخول الافتراضية:
   - **اسم المستخدم**: `admin`
   - **كلمة المرور**: `your_strong_password`
3. غيّر كلمة المرور من الإعدادات فوراً

### 🏠 لوحة التحكم الرئيسية
لوحة التحكم تعرض:
- **حالة النظام**: معلومات الخادم والذاكرة والمعالج
- **إحصائيات الترجمة**: عدد الملفات المترجمة والقائمة
- **المهام النشطة**: العمليات الجارية حالياً
- **أزرار التحكم السريع**: بدء/إيقاف العمليات

### 📁 إدارة الملفات
#### عرض الملفات
- **جميع الملفات**: عرض شامل لمكتبة الوسائط
- **غير مترجم**: الملفات التي تحتاج ترجمة
- **مترجم**: الملفات المكتملة
- **القائمة السوداء**: الملفات المستثناة

#### عمليات الترجمة
1. **ترجمة ملف واحد**:
   - اختر الملف من القائمة
   - اضغط "ترجمة" بجانب اسم الملف
   - راقب التقدم في لوحة التحكم

2. **ترجمة دفعية**:
   - حدد الملفات المطلوبة
   - اضغط "ترجمة المحددة"
   - النظام سيعالج الملفات تسلسلياً

### ⚙️ نظام الإعدادات المتقدم
الإعدادات منظمة في فئات رئيسية:

#### 🔧 الإعدادات العامة
- **الإعدادات الأساسية**: اللغة والموضوع والتخطيط
- **إعدادات اللغة**: تبديل بين العربية والإنجليزية
- **إعدادات التذييل**: معلومات المطور والترخيص

#### 🤖 خدمات الذكاء الاصطناعي
- **نماذج الذكاء الاصطناعي**: إعداد Whisper وOllama
- **خدمة Ollama**: تكوين الخادم والنماذج
- **إدارة كروت الشاشة**: توزيع موارد GPU

#### 📺 خوادم الوسائط
- **Plex وJellyfin وEmby**: تكوين خوادم الوسائط
- **Kodi**: إعداد مركز الوسائط
- **Radarr وSonarr**: تكامل مديري المحتوى

#### 🗄️ إدارة التخزين
- **التخزين البعيد**: اتصال بخوادم بعيدة
- **مسارات الملفات**: تحديد مواقع المكتبات

#### ⚙️ إدارة النظام
- **تكوين الخادم**: إعدادات الشبكة والمنافذ (جديد!)
- **تصحيح الترجمات**: أدوات إصلاح الملفات
- **إدارة المكتبة**: صيانة قاعدة البيانات
- **إدارة قاعدة البيانات**: أدوات المطور المتقدمة

---

## 🖥️ إدارة إعدادات الخادم (الميزة الجديدة)

### 📍 عرض معلومات الخادم الحالي
عند فتح قسم "تكوين الخادم" ستجد:
- **صندوق أزرق** يعرض عنوان IP الحالي والمنفذ
- **تحديث تلقائي** للحقول بالقيم الحالية
- **معلومات البيئة** (Replit/خادم محلي)

### ⚙️ تغيير إعدادات الشبكة
#### عنوان IP للخادم
- **للوصول العام**: استخدم العنوان المعروض حالياً
- **للوصول المحلي فقط**: استخدم `127.0.0.1`
- **لشبكة محددة**: أدخل عنوان IP الشبكة المطلوبة

#### منفذ الخادم
- **المنافذ المقترحة**: 5000 (افتراضي)، 8000، 3000، 8080
- **تجنب المنافذ**: 1-1023 (محجوزة للنظام)
- **فحص التوفر**: النظام سيتحقق من توفر المنفذ

### 💾 حفظ الإعدادات
1. أدخل القيم المطلوبة في الحقول
2. اضغط "حفظ الكل" في أعلى الصفحة
3. في بيئة Replit: الإعدادات تُحفظ للنشر المستقبلي
4. في البيئة المحلية: يتطلب إعادة تشغيل الخدمة

---

## 📺 تكوين خوادم الوسائط

### Plex Media Server
1. انتقل إلى إعدادات خوادم الوسائط → Plex
2. أدخل عنوان الخادم: `http://localhost:32400`
3. احصل على X-Plex-Token من إعدادات Plex
4. اختبر الاتصال واحفظ الإعدادات

### Jellyfin & Emby
- **عنوان الخادم**: `http://localhost:8096` (Jellyfin) أو `http://localhost:8920` (Emby)
- **مفتاح API**: من إعدادات الخادم → API Keys
- **اسم المستخدم وكلمة المرور**: حساب المدير

### Radarr & Sonarr
- **Radarr**: `http://localhost:7878`
- **Sonarr**: `http://localhost:8989`
- **مفتاح API**: من Settings → General → API Key

---

## 🧠 إدارة الذكاء الاصطناعي

### إعداد Whisper
1. اختر النموذج المناسب:
   - **tiny**: سريع ولكن دقة أقل
   - **base**: متوازن
   - **small**: دقة جيدة
   - **medium**: الأفضل للاستخدام العام (مُوصى به)
   - **large**: أعلى دقة ولكن بطيء

2. تحديد GPU للمعالجة (إن وُجد)

### إعداد Ollama
1. تأكد من تشغيل خدمة Ollama: `http://localhost:11434`
2. حمّل نموذج Llama 3: `ollama pull llama3`
3. اختر GPU للمعالجة
4. اختبر الاتصال من الإعدادات

### توزيع موارد GPU
- **الكشف التلقائي**: النظام يكتشف كروت الرسوميات المتاحة
- **التوزيع الذكي**: توزيع تلقائي للموارد حسب الأداء
- **التوزيع اليدوي**: تحديد يدوي لكل خدمة

---

## 🔧 استكشاف الأخطاء وإصلاحها

### المشاكل الشائعة

#### خطأ في الاتصال بقاعدة البيانات
**الأعراض**: رسالة خطأ عند فتح التطبيق
**الحل**:
```bash
# فحص حالة PostgreSQL
sudo systemctl status postgresql
# إعادة تشغيل الخدمة
sudo systemctl restart postgresql
# التحقق من الاتصال
psql -h localhost -U ai_translator ai_translator_db
```

#### Ollama لا يستجيب
**الأعراض**: فشل في ترجمة النصوص
**الحل**:
```bash
# فحص حالة Ollama
curl http://localhost:11434/api/tags
# إعادة تشغيل Ollama
systemctl restart ollama
# التحقق من النماذج المثبتة
ollama list
```

#### مشاكل GPU
**الأعراض**: بطء في المعالجة أو أخطاء CUDA
**الحل**:
```bash
# فحص كروت الرسوميات
nvidia-smi
# التحقق من CUDA
nvcc --version
# إعادة تشغيل خدمة NVIDIA
sudo systemctl restart nvidia-persistenced
```

#### ملفات الفيديو لا تظهر
**الأعراض**: المكتبة فارغة رغم وجود الملفات
**الحل**:
1. تحقق من إعدادات المسارات في الإعدادات
2. تأكد من أذونات القراءة للمجلدات
3. قم بإعادة مزامنة المكتبة من لوحة التحكم

### سجلات النظام
- **سجلات التطبيق**: متاحة من صفحة السجلات
- **سجلات الترجمة**: تفاصيل عمليات الترجمة
- **سجلات النظام**: معلومات تقنية متقدمة

---

## ❓ الأسئلة الشائعة

### هل يمكن ترجمة لغات أخرى غير الإنجليزية؟
حالياً النظام مُحسَّن للترجمة من الإنجليزية إلى العربية، ولكن يمكن تطويره لدعم لغات أخرى.

### ما هي صيغ الفيديو المدعومة؟
النظام يدعم جميع الصيغ التي يدعمها FFmpeg: MP4, MKV, AVI, MOV, WMV, WebM, وغيرها.

### هل يمكن تشغيل النظام بدون GPU؟
نعم، ولكن المعالجة ستكون أبطأ بكثير. GPU مُوصى به بشدة للحصول على أفضل أداء.

### كيف أقوم بنسخ احتياطي للبيانات؟
استخدم أدوات إدارة قاعدة البيانات في الإعدادات لإنشاء نسخ احتياطية.

### هل النظام آمن للاستخدام في الشبكة؟
النظام يتضمن آليات حماية متقدمة، ولكن يُنصح بتشغيله خلف جدار حماية وتحديث كلمات المرور بانتظام.

---

## 📞 الدعم والمساعدة

### للدعم الفني
- **GitHub**: https://github.com/AbdelmonemAwad/ai-translator
- **البريد الإلكتروني**: Eg2@live.com
- **الوثائق التقنية**: راجع `API_DOCUMENTATION.md`

### المساهمة في التطوير
النظام مفتوح المصدر تحت رخصة GNU GPL v3. نرحب بالمساهمات والتحسينات من المجتمع.

### الترخيص
هذا البرنامج مرخص تحت GNU General Public License v3.0 - راجع ملف `LICENSE` للتفاصيل.

---

**إصدار الدليل**: 2.1.0  
**تاريخ التحديث**: 29 يونيو 2025  
**المطور**: عبدالمنعم عوض (AbdelmonemAwad)